<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patro du Val d'Haine | Maurage</title>
    
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="layout.js"></script>

    <script>
        tailwind.config = { theme: { extend: { colors: { patro: { yellow: '#FFD700', green: '#009045', dark: '#1a1a1a', light: '#f8fafc' } }, fontFamily: { sans: ['Poppins', 'sans-serif'], display: ['Fredoka', 'sans-serif'] } } } }
    </script>
</head>
<body class="font-sans text-slate-800 bg-patro-light antialiased">

    <div id="custom-cursor"></div>
    <div id="loader"><div class="spinner mb-4"></div><p class="text-patro-green font-bold font-display animate-pulse">Chargement...</p></div>
    <div id="navbar-placeholder"></div>

    <!-- Hero Section -->
    <section id="accueil" class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 144, 69, 0.7)), url('https://static.wixstatic.com/media/99150c_fdc168f86c01429eb37adcee6a16b99c~mv2.jpg'); background-size: cover; background-position: center;">
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 text-white text-sm font-semibold mb-6">
                <span class="w-2 h-2 rounded-full bg-patro-yellow animate-pulse"></span>
                Bienvenue au Patro du Val d'Haine
            </div>
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-display font-extrabold text-white mb-6 leading-tight drop-shadow-sm">
                L'aventure commence <br class="hidden md:block" />
                <span class="text-patro-yellow">avec toi !</span>
            </h1>
            <p class="mt-4 max-w-2xl mx-auto text-xl text-green-50 md:text-2xl font-light">
                Le Patro du Val d'Haine est un mouvement de jeunesse ouvert à tous à partir de 4 ans !
            </p>
            <div class="mt-10 flex flex-col sm:flex-row justify-center gap-4">
                <a href="inscription.html" class="px-8 py-4 rounded-full bg-patro-yellow text-patro-green font-bold text-lg shadow-lg hover:bg-yellow-400 hover:scale-105 transition transform duration-200 flex items-center justify-center gap-2">
                    <i data-lucide="user-plus" class="w-5 h-5"></i>
                    Je m'inscris
                </a>
            </div>
        </div>
        <div class="absolute bottom-0 w-full leading-none z-10">
            <svg class="block w-full h-12 md:h-24 text-patro-light" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <path class="wave-anim-2" fill="currentColor" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,261.3C960,256,1056,224,1152,202.7C1248,181,1344,171,1392,165.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
                <path class="wave-anim-1" fill="currentColor" fill-opacity="1" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,261.3C960,256,1056,224,1152,202.7C1248,181,1344,171,1392,165.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
            </svg>
        </div>
    </section>

    <!-- Presentation Textes Officiels -->
    <section class="py-20 bg-patro-light">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-patro-green font-bold tracking-wide uppercase text-sm mb-2">Le Projet</h2>
                <h3 class="text-3xl font-display font-bold text-gray-900">Le Patro en quelques mots</h3>
            </div>

            <div class="bg-white rounded-3xl shadow-sm p-8 md:p-12 space-y-8">
                <div>
                    <h4 class="text-xl font-bold text-patro-green mb-2">Par les jeunes, pour les jeunes !</h4>
                    <p class="text-gray-600 leading-relaxed">
                        Enfants comme animateurs, chacun occupe une place importante au sein du Patro ! 
                        Les animateurs, qui ont eux-mêmes été animés, transmettent la joie et l'amusement qu'ils ont acquis lors de leurs années en tant qu'animé. 
                        Ainsi, animés et animateurs découvrent, imaginent et créent ensemble le Patro de demain, tout en s'amusant.
                    </p>
                </div>
                <hr class="border-gray-100">
                <div>
                    <h4 class="text-xl font-bold text-patro-yellow mb-2">S'amuser, rêver & kiffer</h4>
                    <p class="text-gray-600 leading-relaxed">
                        Au Patro on s'amuse, mais pas que... Venir au Patro, c'est découvrir plein de choses, repousser ses limites, réaliser ses rêves. 
                        Tout ça dans d'incroyables cadres, surtout au camp... Le jour mais aussi la nuit.
                        C'est vraiment possible, on le vit chaque dimanche, à chaque camp et à chaque hike, alors pourquoi pas toi ?
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sections (Age Groups) -->
    <section id="sections" class="py-20 bg-white relative">
        <div class="absolute top-0 w-full h-24 bg-gradient-to-b from-patro-light to-white"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
            <div class="text-center mb-16">
                <h2 class="text-patro-green font-bold tracking-wide uppercase text-sm mb-2">Les sections</h2>
                <h3 class="text-3xl md:text-4xl font-display font-bold text-gray-900">Selon l'âge...</h3>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Poussins -->
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-yellow-50 border border-yellow-100 p-8 text-center">
                    <div class="w-16 h-16 mx-auto bg-yellow-400 rounded-full flex items-center justify-center text-white mb-4"><i data-lucide="baby" class="w-8 h-8"></i></div>
                    <h4 class="text-2xl font-display font-bold text-gray-800 mb-2">Poussins</h4>
                    <span class="inline-block px-3 py-1 bg-yellow-400 text-white text-xs font-bold rounded-full mb-4">4 - 6 ANS</span>
                </div>
                <!-- Benjamins -->
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-orange-50 border border-orange-100 p-8 text-center">
                    <div class="w-16 h-16 mx-auto bg-orange-500 rounded-full flex items-center justify-center text-white mb-4"><i data-lucide="sun" class="w-8 h-8"></i></div>
                    <h4 class="text-2xl font-display font-bold text-gray-800 mb-2">Benjamins</h4>
                    <span class="inline-block px-3 py-1 bg-orange-500 text-white text-xs font-bold rounded-full mb-4">6 - 9 ANS</span>
                </div>
                <!-- Chevaliers -->
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-red-50 border border-red-100 p-8 text-center">
                    <div class="w-16 h-16 mx-auto bg-red-500 rounded-full flex items-center justify-center text-white mb-4"><i data-lucide="flame" class="w-8 h-8"></i></div>
                    <h4 class="text-2xl font-display font-bold text-gray-800 mb-2">Chevaliers / Étincelles</h4>
                    <span class="inline-block px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full mb-4">9 - 12 ANS</span>
                </div>
                <!-- Conquérants -->
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-blue-50 border border-blue-100 p-8 text-center">
                    <div class="w-16 h-16 mx-auto bg-blue-500 rounded-full flex items-center justify-center text-white mb-4"><i data-lucide="mountain" class="w-8 h-8"></i></div>
                    <h4 class="text-2xl font-display font-bold text-gray-800 mb-2">Conquérants / Alpines</h4>
                    <span class="inline-block px-3 py-1 bg-blue-500 text-white text-xs font-bold rounded-full mb-4">12 - 14 ANS</span>
                </div>
                <!-- Aventuriers -->
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-green-50 border border-green-100 p-8 text-center">
                    <div class="w-16 h-16 mx-auto bg-green-600 rounded-full flex items-center justify-center text-white mb-4"><i data-lucide="compass" class="w-8 h-8"></i></div>
                    <h4 class="text-2xl font-display font-bold text-gray-800 mb-2">Aventuriers</h4>
                    <span class="inline-block px-3 py-1 bg-green-600 text-white text-xs font-bold rounded-full mb-4">14 - 16 ANS</span>
                </div>
                <!-- Animateurs -->
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-gray-800 text-white p-8 text-center">
                    <div class="w-16 h-16 mx-auto bg-white/20 rounded-full flex items-center justify-center text-patro-yellow mb-4"><i data-lucide="star" class="w-8 h-8"></i></div>
                    <h4 class="text-2xl font-display font-bold text-white mb-2">Animateurs</h4>
                    <span class="inline-block px-3 py-1 bg-patro-yellow text-gray-900 text-xs font-bold rounded-full mb-4">16+ ANS</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Infos Pratiques & Calendar (REMANIÉ - FIX STICKY) -->
    <section id="infos" class="py-20 bg-patro-light relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                
                <!-- Colonne Gauche : Infos Pratiques -->
                <!-- MODIFICATION ICI : Ajout de lg: devant sticky et top-28 -->
                <div class="lg:sticky lg:top-28">
                    <h2 class="text-patro-green font-bold tracking-wide uppercase text-sm mb-2">En Pratique</h2>
                    <h3 class="text-3xl md:text-4xl font-display font-bold text-gray-900 mb-6">C'est où & quand ?</h3>
                    
                    <div class="space-y-6">
                        <div class="flex items-start gap-4">
                            <div class="bg-white p-3 rounded-lg shadow-sm text-patro-green">
                                <i data-lucide="clock" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg text-gray-800">Le Dimanche</h4>
                                <p class="text-gray-600">De 14h00 à 18h00</p>
                                <p class="text-sm text-gray-500 italic mt-1">Vérifiez toujours le calendrier ci-contre !</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div class="bg-white p-3 rounded-lg shadow-sm text-patro-green">
                                <i data-lucide="map-pin" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg text-gray-800">Le Local</h4>
                                <p class="text-gray-600">École Libre de Maurage "L'Étincelle"</p>
                                <p class="text-gray-600">Rue du Roeulx 23, 7110 Maurage</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-4">
                            <div class="bg-white p-3 rounded-lg shadow-sm text-patro-green">
                                <i data-lucide="calendar-days" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg text-gray-800">Calendrier</h4>
                                <p class="text-gray-600 mb-2">Retrouvez toutes nos dates importantes ci-contre.</p>
                                <a href="informations.html" class="text-sm text-patro-green font-bold hover:underline">Voir toutes les infos & valves →</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Colonne Droite : Calendrier Dynamique (Sans Map, Sans Google Agenda) -->
                <div class="space-y-6">
                    <div class="bg-white rounded-2xl shadow-xl border-4 border-white p-6 min-h-[400px]">
                        <h4 class="font-display font-bold text-2xl text-gray-800 mb-6 border-b pb-2">Prochains événements</h4>
                        
                        <!-- Container où les événements seront injectés -->
                        <div id="home-calendar-container" class="space-y-3">
                            <!-- Loader -->
                            <div class="flex flex-col items-center justify-center py-12 text-gray-400">
                                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-patro-green mb-2"></div>
                                <p>Chargement du calendrier...</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <div id="footer-placeholder"></div>

    <!-- SCRIPT CALENDRIER ACCUEIL -->
    <script>
        const repoOwner = 'staffpatrovdh-pixel'; 
        const repoName = 'staffpatrovdh-pixel.github.io';
        const branch = 'main'; 
        const calendarUrl = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/${branch}/donnees-site/calendrier.txt?t=${Date.now()}`;

        // Mapping des mois
        const monthMap = {
            '01': 'Janv', '02': 'Fév', '03': 'Mars', '04': 'Avr', '05': 'Mai', '06': 'Juin',
            '07': 'Juil', '08': 'Août', '09': 'Sept', '10': 'Oct', '11': 'Nov', '12': 'Déc'
        };

        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch(calendarUrl);
                if (!response.ok) throw new Error("Calendrier introuvable");
                const text = await response.text();
                
                const container = document.getElementById('home-calendar-container');
                container.innerHTML = '';

                const lines = text.split('\n');
                let hasEvents = false;

                // On affiche max 5 événements sur l'accueil pour ne pas surcharger
                let count = 0;
                const maxEvents = 5;

                lines.forEach(line => {
                    if (!line.trim() || count >= maxEvents) return;

                    const parts = line.split('|');
                    if (parts.length >= 2) {
                        hasEvents = true;
                        const dateRaw = parts[0].trim(); // 15/03/2025
                        const title = parts[1].trim();
                        const place = parts[2] ? parts[2].trim() : '';

                        // Transformation de la date
                        const dateParts = dateRaw.split('/');
                        const day = dateParts[0];
                        const monthNum = dateParts[1];
                        const monthName = monthMap[monthNum] || monthNum; // Utilise le nom raccourci ou le numéro si pas trouvé

                        const html = `
                            <div class="flex items-center gap-4 p-3 hover:bg-gray-50 rounded-lg transition group">
                                <div class="flex-shrink-0 bg-patro-yellow/20 text-patro-dark rounded-lg w-14 h-14 flex flex-col items-center justify-center border border-patro-yellow/30">
                                    <span class="text-lg font-bold leading-none">${day}</span>
                                    <span class="text-xs uppercase font-bold leading-none mt-1">${monthName}</span>
                                </div>
                                <div class="flex-grow">
                                    <h5 class="font-bold text-gray-800 group-hover:text-patro-green transition">${title}</h5>
                                    ${place ? `<p class="text-xs text-gray-500 flex items-center gap-1"><i data-lucide="map-pin" class="w-3 h-3"></i> ${place}</p>` : ''}
                                </div>
                            </div>
                        `;
                        container.innerHTML += html;
                        count++;
                    }
                });

                if (!hasEvents) {
                    container.innerHTML = '<p class="text-gray-500 italic text-center py-4">Aucune date prévue pour le moment.</p>';
                }
                
                if(typeof lucide !== 'undefined') lucide.createIcons();

            } catch (error) {
                console.error(error);
                document.getElementById('home-calendar-container').innerHTML = '<p class="text-red-400 text-sm text-center">Erreur de chargement.</p>';
            }
        });
    </script>
</body>
</html>
